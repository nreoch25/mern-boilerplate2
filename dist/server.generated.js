module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=15)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("prop-types")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={mongoURI:"mongodb://localhost:27017/mern-boilerplate2",secretOrKey:"secret"}},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("webpack")},function(e,t){e.exports=require("redux")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GET_ERRORS="GET_ERRORS"},function(e,t){e.exports=require("validator")},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return void 0===e||null===e||"object"===(void 0===e?"undefined":n(e))&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length}},function(e,t){e.exports=require("passport-jwt")},function(e,t,r){e.exports=r(16)},function(e,t,r){"use strict";var n=f(r(6)),a=f(r(7)),o=f(r(1)),s=f(r(17)),i=f(r(8)),u=f(r(18)),l=f(r(22)),c=f(r(38)),d=f(r(5));function f(e){return e&&e.__esModule?e:{default:e}}o.default.Promise=global.Promise;var p=process.cwd(),m=(0,n.default)();(0,u.default)(m),m.use(s.default.urlencoded({extended:!1})),m.use(s.default.json()),o.default.connect(d.default.mongoURI).then(function(){return console.log("MongoDB connected")}).catch(function(e){return console.log(e)}),m.use(i.default.initialize()),r(45)(i.default),m.use("/api/users",c.default),m.use("/dist",n.default.static(a.default.join(p,"dist"))),m.get("*",l.default);var y=process.env.PORT||8e3;m.listen(y,function(){console.log("Server running on port "+y)})},function(e,t){e.exports=require("body-parser")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(r(9)),n(r(19)),n(r(20)),n(r(21));function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){}},function(e,t,r){"use strict";var n=r(7),a=r(9),o=process.cwd(),s={name:"browser",mode:"development",devtool:"eval-source-map",entry:["react-hot-loader/patch","webpack-hot-middleware/client?reload=true",n.join(o,"client/index.js")],output:{path:n.join(o,"/dist"),filename:"bundle.js",publicPath:"/dist/"},module:{rules:[{test:/\.jsx?$/,exclude:/node_modules/,use:["babel-loader"]},{test:/\.css$/,use:["style-loader","css-loader"]},{test:/\.(ttf|eot|svg|gif|jpg|png)(\?[\s\S]+)?$/,use:"file-loader"}]},plugins:[new a.HotModuleReplacementPlugin,new a.NoEmitOnErrorsPlugin]};e.exports=s},function(e,t){e.exports=require("webpack-dev-middleware")},function(e,t){e.exports=require("webpack-hot-middleware")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(0)),a=r(2),o=r(23),s=r(24),i=c(r(25)),u=c(r(30)),l=c(r(37));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var r={},c=n.default.createElement(a.Provider,{store:i.default},n.default.createElement(s.StaticRouter,{context:{},location:e.url},n.default.createElement(u.default,null)));if(r.url)return t.redirect(r.url);var d=i.default.getState(),f=(0,o.renderToString)(c);t.set("Content-Type","text/html").status(200).end((0,l.default)(f,d))}},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("react-router")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),a=s(r(26)),o=s(r(27));function s(e){return e&&e.__esModule?e:{default:e}}var i=void 0,u=void 0;"undefined"!=typeof window?(i=[(0,n.applyMiddleware)(a.default),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()],u=window.__INITIAL_STATE__):(i=[(0,n.applyMiddleware)(a.default)],u={});var l=(0,n.createStore)(o.default,u,n.compose.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(i)));t.default=l},function(e,t){e.exports=require("redux-thunk")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),a=s(r(28)),o=s(r(29));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.combineReducers)({auth:a.default,errors:o.default})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return arguments[1].type,e};var n={isAuthenticated:!1,user:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case n.GET_ERRORS:return t.payload;default:return e}};var n=r(11),a={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=l(a),s=r(3),i=l(r(31)),u=l(r(32));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"render",value:function(){return o.default.createElement("div",{className:"App"},o.default.createElement(s.Route,{exact:!0,path:"/",component:i.default}),o.default.createElement("div",{className:"container"},o.default.createElement(s.Route,{exact:!0,path:"/register",component:u.default})))}}]),t}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(3),i=r(4),u=r(2);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return o.default.createElement("div",{className:"landing"},o.default.createElement("div",{className:"dark-overlay landing-inner text-light"},o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-md-12 text-center"},o.default.createElement("h1",{className:"display-3 mb-4"},"MERN BOILERPLATE"),o.default.createElement("p",{className:"lead"}," ","This is a boilerplate project to build an application with the MERN Stack."),o.default.createElement("hr",null),o.default.createElement(s.Link,{to:"/register",className:"btn btn-lg btn-info mr-2"},"Sign Up"),o.default.createElement(s.Link,{to:"/login",className:"btn btn-lg btn-light"},"Login"))))))}}]),t}();l.propTypes={auth:i.PropTypes.object.isRequired};t.default=(0,u.connect)(function(e){return{auth:e.auth}})(l)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),o=d(a),s=d(r(4)),i=r(3),u=r(2),l=r(33),c=d(r(35));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChange=function(t){e.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var r={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(r,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return o.default.createElement("div",null,o.default.createElement("div",{className:"register"},o.default.createElement("div",{className:"container"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-md-8 m-auto"},o.default.createElement("h1",{className:"display-4 text-center"},"Sign Up"),o.default.createElement("p",{className:"lead text-center"},"Create your account"),o.default.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},o.default.createElement(c.default,{placeholder:"Name",name:"name",value:this.state.name,onChange:this.onChange,error:e.name}),o.default.createElement(c.default,{placeholder:"Email",name:"email",type:"email",value:this.state.email,onChange:this.onChange,error:e.email,info:"This site uses Gravatar so if you want a profile image, use a Gravatar email"}),o.default.createElement(c.default,{placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,error:e.password}),o.default.createElement(c.default,{placeholder:"Confirm Password",name:"password2",type:"password",value:this.state.password2,onChange:this.onChange,error:e.password2}),o.default.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"})))))))}}]),t}();f.propTypes={registerUser:s.default.func.isRequired,auth:s.default.object.isRequired,errors:s.default.object.isRequired};t.default=(0,u.connect)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:l.registerUser})((0,i.withRouter)(f))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerUser=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(34)),a=r(11);t.registerUser=function(e,t){return function(r){n.default.post("/api/users/register",e).then(function(){return t.push("/login")}).catch(function(e){return r({type:a.GET_ERRORS,payload:e.response.data})})}}},function(e,t){e.exports=require("axios")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(0)),a=s(r(36)),o=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.name,r=e.placeholder,o=e.value,s=(e.label,e.error),i=e.info,u=e.type,l=e.onChange,c=e.disabled;return n.default.createElement("div",{className:"form-group"},n.default.createElement("input",{type:u,className:(0,a.default)("form-control form-control-lg",{"is-invalid":s}),placeholder:r,name:t,value:o,onChange:l,disabled:c}),i&&n.default.createElement("small",{className:"form-text text-muted"},i),s&&n.default.createElement("div",{className:"invalid-feedback"},s))};i.propTypes={name:o.default.string.isRequired,placeholder:o.default.string,value:o.default.string.isRequired,info:o.default.string,error:o.default.string,type:o.default.string.isRequired,onChange:o.default.func.isRequired,disabled:o.default.string},i.defaultProps={type:"text"},t.default=i},function(e,t){e.exports=require("classnames")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return'\n    <!DOCTYPE HTML>\n    <html>\n      <head>\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">\n        <script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js" integrity="sha384-3LK/3kTpDE/Pkp8gTNp2gR/2gOiwQ6QaO7Td0zV76UFJVhqLl4Vl3KL1We6q6wR9" crossorigin="anonymous"><\/script>\n        <link rel="stylesheet" href="/dist/main.css" />\n        <title>MERN BOILERPLATE</title>\n      </head>\n      <body>\n        <div id="root">'+e+"</div>\n        <script>window.__INITIAL_STATE__ = "+JSON.stringify(t)+'; <\/script>\n        <script src="/dist/bundle.js"><\/script>\n        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"><\/script>\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"><\/script>\n        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"><\/script>\n      </body>\n    </html>\n  '}},function(e,t,r){"use strict";var n=f(r(6)),a=f(r(39)),o=f(r(40)),s=f(r(41)),i=f(r(8)),u=f(r(42)),l=f(r(43)),c=f(r(44)),d=f(r(5));function f(e){return e&&e.__esModule?e:{default:e}}var p=n.default.Router();p.post("/register",function(e,t){var r=(0,u.default)(e.body),n=r.errors;if(!r.isValid)return t.status(400).json(n);c.default.findOne({email:e.body.email}).then(function(r){if(r)return n.email="Email already exists",t.status(400).json(n);var s=a.default.url(e.body.email,{s:"200",r:"pg",d:"mm"}),i=new c.default({name:e.body.name,email:e.body.email,avatar:s,password:e.body.password});o.default.genSalt(10,function(e,r){o.default.hash(i.password,r,function(e,r){if(e)throw e;i.password=r,i.save().then(function(e){return t.json(e)}).catch(function(e){return console.log(e)})})})})}),p.post("/login",function(e,t){var r=(0,l.default)(e.body),n=r.errors;if(!r.isValid)return t.status(400).json(n);var a=e.body.email,i=e.body.password;c.default.findOne({email:a}).then(function(e){if(!e)return n.email="User not found",t.status(404).json(n);o.default.compare(i,e.password).then(function(r){if(!r)return n.password="Password incorrect",t.status(400).json(n);var a={id:e.id,name:e.name,avatar:e.avatar};s.default.sign(a,d.default.secretOrKey,{expiresIn:3600},function(e,r){t.json({success:!0,token:"Bearer "+r})})})})}),p.get("/current",i.default.authenticate("jwt",{session:!1}),function(e,t){t.send({id:e.user.id,name:e.user.name,email:e.user.email})}),e.exports=p},function(e,t){e.exports=require("gravatar")},function(e,t){e.exports=require("bcryptjs")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(12)),a=o(r(13));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};return e.name=(0,a.default)(e.name)?"":e.name,e.email=(0,a.default)(e.email)?"":e.email,e.password=(0,a.default)(e.password)?"":e.password,e.password2=(0,a.default)(e.password2)?"":e.password2,n.default.isLength(e.name,{min:2,max:30})||(t.name="Name must be between 2 and 30 characters"),n.default.isEmpty(e.name)&&(t.name="Name field is required"),n.default.isEmpty(e.email)&&(t.email="Email field is required"),n.default.isEmail(e.email)||(t.email="Email is invalid"),n.default.isEmpty(e.password)&&(t.password="Password field is required"),n.default.isLength(e.password,{min:6,max:30})||(t.password="Password must be at least 6 characters"),n.default.isEmpty(e.password2)&&(t.password2="Confirm Password field is required"),n.default.equals(e.password,e.password2)||(t.password2="Passwords must match"),{errors:t,isValid:(0,a.default)(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),a=r(13);t.default=function(e){var t={};return e.email=a(e.email)?"":e.email,e.password=a(e.password)?"":e.password,n.isEmail(e.email)||(t.email="Email is invalid"),n.isEmpty(e.email)&&(t.email="Email field is required"),n.isEmpty(e.password)&&(t.password="Password field is required"),{errors:t,isValid:a(t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=new(0,n.Schema)({name:{type:String,required:!0},email:{type:String,required:!0},password:{type:String,required:!0},avatar:{type:String},date:{type:Date,default:Date.now}});t.default=n.model("users",a)},function(e,t,r){"use strict";var n=o(r(1)),a=o(r(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=r(14).Strategy,i=r(14).ExtractJwt,u=n.default.model("users"),l={};l.jwtFromRequest=i.fromAuthHeaderAsBearerToken(),l.secretOrKey=a.default.secretOrKey,e.exports=function(e){e.use(new s(l,function(e,t){u.findById(e.id).then(function(e){return t(null,e||!1)}).catch(function(e){return console.log(e)})}))}}]);